import{d as P,u as R,r as o,c as U,l as $,k as H,b as p,e,t as s,f as n,w as T,j as G,n as V,h as f,p as J,F as B,i as D,v as K,o as m,_ as Q}from"./index-BptgdAIT.js";const W={class:"main-content flex-grow-1"},X={class:"page-header-row"},Y={class:"page-header-left"},Z={class:"page-title"},ee={class:"page-description"},te={class:"breadcrumb-custom"},se={"aria-label":"breadcrumb"},ae={class:"breadcrumb mb-0"},ne={class:"breadcrumb-item"},le={href:"#"},oe={class:"breadcrumb-item"},ie={href:"#"},ue={class:"breadcrumb-item active","aria-current":"page"},re={class:"card tool-card params-status-card"},ce={class:"card-body"},de={class:"params-row"},pe={class:"realtime-switch"},me={class:"switch"},ve={style:{"font-size":"0.875rem",color:"var(--text-secondary)"}},_e={class:"format-select-group"},be={value:"withCount"},ge={value:"itemOnly"},he={class:"row"},fe={class:"col-lg-6 col-md-12 mb-3"},Le={class:"card tool-card no-footer"},Ce={class:"card-header"},ye={class:"card-body p-0"},xe={class:"textarea-container"},we=["placeholder"],Te={class:"col-lg-6 col-md-12 mb-3"},ke={class:"card tool-card no-footer"},Me={class:"card-header d-flex justify-content-between align-items-center"},ze={class:"d-flex align-items-center gap-3",style:{"font-size":"0.875rem"}},Ae={class:"status-item"},Ve={class:"status-item"},Be={class:"status-item"},De={class:"card-body p-0"},Ne={key:0,class:"textarea-container"},Oe=["value"],Ie={key:1,class:"empty-result"},Se={class:"text-muted mt-1"},je={class:"card tool-card no-footer"},Ee={class:"card-header"},Fe={class:"card-body"},qe={class:"notice-box"},Pe=P({__name:"DuplicateLineCounterView",setup(Re){const{t}=R(),u=o(""),v=o(""),_=o(!0),g=o("withCount"),r=o(t("pages.duplicateLineCounter.status.ready")),L=o("-"),C=o(0),y=o(0),k=o(1),M=o(1),x=o(null),N=o(null),w=o(null),O=o(null),I=U(()=>r.value===t("pages.duplicateLineCounter.status.ready")?"status-ready":r.value===t("pages.duplicateLineCounter.status.complete")?"status-complete":r.value.includes("错误")||r.value.includes("error")?"status-error":""),S=()=>{z(),_.value&&h()},j=()=>{_.value||h()},h=()=>{const i=performance.now(),a=u.value.split(`
`);C.value=a.length;const l=new Map;a.forEach(c=>{const d=c.trim();d&&l.set(d,(l.get(d)||0)+1)}),y.value=l.size;const b=Array.from(l.entries()).sort((c,d)=>d[1]-c[1]);g.value==="withCount"?v.value=b.map(([c,d])=>`${c} - ${d}`).join(`
`):v.value=b.map(([c])=>c).join(`
`),E();const q=(performance.now()-i).toFixed(2);L.value=`${q}ms`,u.value.trim()?r.value=t("pages.duplicateLineCounter.status.complete"):(r.value=t("pages.duplicateLineCounter.status.ready"),v.value="",C.value=0,y.value=0,L.value="-")},z=()=>{const i=u.value.split(`
`);k.value=Math.max(i.length,1)},E=()=>{const i=v.value.split(`
`);M.value=Math.max(i.length,1)},A=(i,a)=>{const b=i.target.scrollTop;a==="input"?x.value&&(x.value.scrollTop=b):a==="result"&&w.value&&(w.value.scrollTop=b)};$(g,()=>{u.value.trim()&&h()});const F=()=>{const i=`Apple
Banana
Apple
Orange

Banana
Apple
Pear
Orange
Pear`;u.value=i,h(),z()};return H(()=>{F()}),(i,a)=>(m(),p("main",W,[e("div",X,[e("div",Y,[e("h1",Z,s(n(t)("pages.duplicateLineCounter.title")),1),e("p",ee,s(n(t)("pages.duplicateLineCounter.description")),1)]),e("div",te,[e("nav",se,[e("ol",ae,[e("li",ne,[e("a",le,s(n(t)("breadcrumb.home")),1)]),e("li",oe,[e("a",ie,s(n(t)("breadcrumb.tools")),1)]),e("li",ue,s(n(t)("pages.duplicateLineCounter.title_short")),1)])])])]),e("div",re,[e("div",ce,[e("div",de,[e("div",pe,[e("label",me,[T(e("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=l=>_.value=l)},null,512),[[G,_.value]]),a[5]||(a[5]=e("span",{class:"slider-switch"},null,-1))]),e("span",ve,s(n(t)("pages.duplicateLineCounter.realtimeToggle")),1)]),e("button",{class:V(["btn btn-action btn-compare",{inactive:_.value}]),onClick:j},[a[6]||(a[6]=e("i",{class:"bi bi-play-circle"},null,-1)),f(" "+s(n(t)("pages.duplicateLineCounter.manualAnalyzeBtn")),1)],2),e("div",_e,[e("label",null,s(n(t)("pages.duplicateLineCounter.formatLabel"))+":",1),T(e("select",{class:"form-select format-select","onUpdate:modelValue":a[1]||(a[1]=l=>g.value=l)},[e("option",be,s(n(t)("pages.duplicateLineCounter.formatOptions.withCount")),1),e("option",ge,s(n(t)("pages.duplicateLineCounter.formatOptions.itemOnly")),1)],512),[[J,g.value]])])])])]),e("div",he,[e("div",fe,[e("div",Le,[e("div",Ce,[a[7]||(a[7]=e("i",{class:"bi bi-pencil-square"},null,-1)),f(" "+s(n(t)("pages.duplicateLineCounter.inputLabel")),1)]),e("div",ye,[e("div",xe,[e("div",{class:"line-numbers",ref_key:"inputLineNumbers",ref:x},[(m(!0),p(B,null,D(k.value,l=>(m(),p("div",{key:l},s(l),1))),128))],512),T(e("textarea",{class:"textarea-input","onUpdate:modelValue":a[2]||(a[2]=l=>u.value=l),onInput:S,onScroll:a[3]||(a[3]=l=>A(l,"input")),placeholder:n(t)("pages.duplicateLineCounter.inputPlaceholder"),ref_key:"inputTextarea",ref:N},null,40,we),[[K,u.value]])])])])]),e("div",Te,[e("div",ke,[e("div",Me,[e("div",null,[a[8]||(a[8]=e("i",{class:"bi bi-bar-chart"},null,-1)),f(" "+s(n(t)("pages.duplicateLineCounter.resultLabel")),1)]),e("div",ze,[e("div",{class:V(["status-item",I.value])},[e("span",null,s(n(t)("pages.duplicateLineCounter.statusLabel"))+":",1),e("strong",null,s(r.value),1)],2),e("div",Ae,[e("span",null,s(n(t)("pages.duplicateLineCounter.analysisTimeLabel"))+":",1),e("strong",null,s(L.value),1)]),e("div",Ve,[e("span",null,s(n(t)("pages.duplicateLineCounter.totalLinesLabel"))+":",1),e("strong",null,s(C.value),1)]),e("div",Be,[e("span",null,s(n(t)("pages.duplicateLineCounter.uniqueCountLabel"))+":",1),e("strong",null,s(y.value),1)])])]),e("div",De,[v.value?(m(),p("div",Ne,[e("div",{class:"line-numbers",ref_key:"resultLineNumbers",ref:w},[(m(!0),p(B,null,D(M.value,l=>(m(),p("div",{key:l},s(l),1))),128))],512),e("textarea",{class:"textarea-result",value:v.value,onScroll:a[4]||(a[4]=l=>A(l,"result")),readonly:"",ref_key:"resultTextarea",ref:O},null,40,Oe)])):(m(),p("div",Ie,[a[9]||(a[9]=e("i",{class:"bi bi-inbox"},null,-1)),e("p",null,s(n(t)("pages.duplicateLineCounter.emptyResult")),1),e("p",Se,s(n(t)("pages.duplicateLineCounter.emptyResultHint")),1)]))])])])]),e("div",je,[e("div",Ee,[a[10]||(a[10]=e("i",{class:"bi bi-info-circle"},null,-1)),f(" "+s(n(t)("pages.duplicateLineCounter.notice.title")),1)]),e("div",Fe,[e("div",qe,[e("ul",null,[e("li",null,s(n(t)("pages.duplicateLineCounter.notice.item1")),1),e("li",null,s(n(t)("pages.duplicateLineCounter.notice.item2")),1),e("li",null,s(n(t)("pages.duplicateLineCounter.notice.item3")),1),e("li",null,s(n(t)("pages.duplicateLineCounter.notice.item4")),1)])])])])]))}}),He=Q(Pe,[["__scopeId","data-v-5ee9b131"]]);export{He as default};
