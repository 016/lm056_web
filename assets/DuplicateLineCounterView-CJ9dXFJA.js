import{d as q,u as P,r as o,c as R,l as U,k as $,b as p,e,t as s,f as l,w as T,j as H,h as f,p as G,F as V,i as B,v as J,n as K,o as m,_ as Q}from"./index-B816jplU.js";const W={class:"main-content flex-grow-1"},X={class:"page-header-row"},Y={class:"page-header-left"},Z={class:"page-title"},ee={class:"page-description"},te={class:"breadcrumb-custom"},se={"aria-label":"breadcrumb"},ae={class:"breadcrumb mb-0"},le={class:"breadcrumb-item"},ne={href:"#"},oe={class:"breadcrumb-item"},ie={href:"#"},ue={class:"breadcrumb-item active","aria-current":"page"},re={class:"card tool-card params-status-card"},ce={class:"card-body"},de={class:"params-row"},pe={class:"realtime-switch"},me={class:"switch"},ve={style:{"font-size":"0.875rem",color:"var(--text-secondary)"}},_e=["disabled"],be={class:"format-select-group"},he={value:"withCount"},ge={value:"itemOnly"},fe={class:"row"},Le={class:"col-lg-6 col-md-12 mb-3"},Ce={class:"card tool-card no-footer"},ye={class:"card-header"},xe={class:"card-body p-0"},we={class:"textarea-container"},Te=["placeholder"],ke={class:"col-lg-6 col-md-12 mb-3"},Me={class:"card tool-card no-footer"},ze={class:"card-header d-flex justify-content-between align-items-center"},Ae={class:"d-flex align-items-center gap-3",style:{"font-size":"0.875rem"}},Ve={class:"status-item"},Be={class:"status-item"},De={class:"status-item"},Ne={class:"card-body p-0"},Oe={key:0,class:"textarea-container"},Ie=["value"],Se={key:1,class:"empty-result"},je={class:"text-muted mt-1"},Ee={class:"card tool-card no-footer"},Fe={class:"card-header"},qe={class:"card-body"},Pe={class:"notice-box"},Re=q({__name:"DuplicateLineCounterView",setup(Ue){const{t}=P(),u=o(""),v=o(""),_=o(!0),h=o("withCount"),r=o(t("pages.duplicateLineCounter.status.ready")),L=o("-"),C=o(0),y=o(0),k=o(1),M=o(1),x=o(null),D=o(null),w=o(null),N=o(null),O=R(()=>r.value===t("pages.duplicateLineCounter.status.ready")?"status-ready":r.value===t("pages.duplicateLineCounter.status.complete")?"status-complete":r.value.includes("错误")||r.value.includes("error")?"status-error":""),I=()=>{z(),_.value&&g()},S=()=>{_.value||g()},g=()=>{const i=performance.now(),a=u.value.split(`
`);C.value=a.length;const n=new Map;a.forEach(c=>{const d=c.trim();d&&n.set(d,(n.get(d)||0)+1)}),y.value=n.size;const b=Array.from(n.entries()).sort((c,d)=>d[1]-c[1]);h.value==="withCount"?v.value=b.map(([c,d])=>`${c} - ${d}`).join(`
`):v.value=b.map(([c])=>c).join(`
`),j();const F=(performance.now()-i).toFixed(2);L.value=`${F}ms`,u.value.trim()?r.value=t("pages.duplicateLineCounter.status.complete"):(r.value=t("pages.duplicateLineCounter.status.ready"),v.value="",C.value=0,y.value=0,L.value="-")},z=()=>{const i=u.value.split(`
`);k.value=Math.max(i.length,1)},j=()=>{const i=v.value.split(`
`);M.value=Math.max(i.length,1)},A=(i,a)=>{const b=i.target.scrollTop;a==="input"?x.value&&(x.value.scrollTop=b):a==="result"&&w.value&&(w.value.scrollTop=b)};U(h,()=>{u.value.trim()&&g()});const E=()=>{const i=`Apple
Banana
Apple
Orange

Banana
Apple
Pear
Orange
Pear`;u.value=i,g(),z()};return $(()=>{E()}),(i,a)=>(m(),p("main",W,[e("div",X,[e("div",Y,[e("h1",Z,s(l(t)("pages.duplicateLineCounter.title")),1),e("p",ee,s(l(t)("pages.duplicateLineCounter.description")),1)]),e("div",te,[e("nav",se,[e("ol",ae,[e("li",le,[e("a",ne,s(l(t)("breadcrumb.home")),1)]),e("li",oe,[e("a",ie,s(l(t)("breadcrumb.tools")),1)]),e("li",ue,s(l(t)("pages.duplicateLineCounter.title_short")),1)])])])]),e("div",re,[e("div",ce,[e("div",de,[e("div",pe,[e("label",me,[T(e("input",{type:"checkbox","onUpdate:modelValue":a[0]||(a[0]=n=>_.value=n)},null,512),[[H,_.value]]),a[5]||(a[5]=e("span",{class:"slider-switch"},null,-1))]),e("span",ve,s(l(t)("pages.duplicateLineCounter.realtimeToggle")),1)]),e("button",{class:"btn btn-ee-base",disabled:_.value,onClick:S},[a[6]||(a[6]=e("i",{class:"bi bi-play-circle"},null,-1)),f(" "+s(l(t)("pages.duplicateLineCounter.manualAnalyzeBtn")),1)],8,_e),e("div",be,[e("label",null,s(l(t)("pages.duplicateLineCounter.formatLabel"))+":",1),T(e("select",{class:"form-select format-select","onUpdate:modelValue":a[1]||(a[1]=n=>h.value=n)},[e("option",he,s(l(t)("pages.duplicateLineCounter.formatOptions.withCount")),1),e("option",ge,s(l(t)("pages.duplicateLineCounter.formatOptions.itemOnly")),1)],512),[[G,h.value]])])])])]),e("div",fe,[e("div",Le,[e("div",Ce,[e("div",ye,[a[7]||(a[7]=e("i",{class:"bi bi-pencil-square"},null,-1)),f(" "+s(l(t)("pages.duplicateLineCounter.inputLabel")),1)]),e("div",xe,[e("div",we,[e("div",{class:"line-numbers",ref_key:"inputLineNumbers",ref:x},[(m(!0),p(V,null,B(k.value,n=>(m(),p("div",{key:n},s(n),1))),128))],512),T(e("textarea",{class:"textarea-input","onUpdate:modelValue":a[2]||(a[2]=n=>u.value=n),onInput:I,onScroll:a[3]||(a[3]=n=>A(n,"input")),placeholder:l(t)("pages.duplicateLineCounter.inputPlaceholder"),ref_key:"inputTextarea",ref:D},null,40,Te),[[J,u.value]])])])])]),e("div",ke,[e("div",Me,[e("div",ze,[e("div",null,[a[8]||(a[8]=e("i",{class:"bi bi-bar-chart"},null,-1)),f(" "+s(l(t)("pages.duplicateLineCounter.resultLabel")),1)]),e("div",Ae,[e("div",{class:K(["status-item",O.value])},[e("span",null,s(l(t)("pages.duplicateLineCounter.statusLabel"))+":",1),e("strong",null,s(r.value),1)],2),e("div",Ve,[e("span",null,s(l(t)("pages.duplicateLineCounter.analysisTimeLabel"))+":",1),e("strong",null,s(L.value),1)]),e("div",Be,[e("span",null,s(l(t)("pages.duplicateLineCounter.totalLinesLabel"))+":",1),e("strong",null,s(C.value),1)]),e("div",De,[e("span",null,s(l(t)("pages.duplicateLineCounter.uniqueCountLabel"))+":",1),e("strong",null,s(y.value),1)])])]),e("div",Ne,[v.value?(m(),p("div",Oe,[e("div",{class:"line-numbers",ref_key:"resultLineNumbers",ref:w},[(m(!0),p(V,null,B(M.value,n=>(m(),p("div",{key:n},s(n),1))),128))],512),e("textarea",{class:"textarea-result",value:v.value,onScroll:a[4]||(a[4]=n=>A(n,"result")),readonly:"",ref_key:"resultTextarea",ref:N},null,40,Ie)])):(m(),p("div",Se,[a[9]||(a[9]=e("i",{class:"bi bi-inbox"},null,-1)),e("p",null,s(l(t)("pages.duplicateLineCounter.emptyResult")),1),e("p",je,s(l(t)("pages.duplicateLineCounter.emptyResultHint")),1)]))])])])]),e("div",Ee,[e("div",Fe,[a[10]||(a[10]=e("i",{class:"bi bi-info-circle"},null,-1)),f(" "+s(l(t)("pages.duplicateLineCounter.notice.title")),1)]),e("div",qe,[e("div",Pe,[e("ul",null,[e("li",null,s(l(t)("pages.duplicateLineCounter.notice.item1")),1),e("li",null,s(l(t)("pages.duplicateLineCounter.notice.item2")),1),e("li",null,s(l(t)("pages.duplicateLineCounter.notice.item3")),1),e("li",null,s(l(t)("pages.duplicateLineCounter.notice.item4")),1)])])])])]))}}),Ge=Q(Re,[["__scopeId","data-v-c937b141"]]);export{Ge as default};
