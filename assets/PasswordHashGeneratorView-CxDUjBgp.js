import{d as j,u as F,r as i,c as L,k as R,l as z,b as g,e,t as r,f as a,h,w as k,v as E,n as f,j as D,g as O,p as J,F as W,i as K,o as _,q as Q,_ as X}from"./index-ByeqixBE.js";import{b as Y,s as Z,a as ee}from"./argon2-bundled.min-DN9-HiOH.js";const se={class:"main-content flex-grow-1"},te={class:"page-header-row"},ae={class:"page-header-left"},oe={class:"page-title"},re={class:"page-description"},ne={class:"breadcrumb-custom"},le={"aria-label":"breadcrumb"},ce={class:"breadcrumb mb-0"},ie={class:"breadcrumb-item"},de={href:"#"},ue={class:"breadcrumb-item"},pe={href:"#"},he={class:"breadcrumb-item active","aria-current":"page"},ge={class:"row main-tool-row"},_e={class:"col-lg-5 col-md-12 mb-3 mb-lg-0"},be={class:"card tool-card"},ve={class:"card-header"},me={class:"card-body"},we={class:"form-label text-secondary small mb-2"},fe={class:"source-text-wrapper"},ye=["type","placeholder"],He={class:"params-section"},Ge={class:"param-row"},xe={class:"param-label"},ke=["title"],Te={class:"cost-control d-flex align-items-center gap-3",style:{flex:"1","max-width":"200px"}},Le={class:"badge bg-accent rounded-pill",style:{"min-width":"3em"}},Se={class:"generate-controls"},Ce={class:"form-check form-switch d-flex align-items-center gap-2 ps-0"},Ie={class:"form-check-label",for:"autoGenerate"},Me=["disabled"],Ee={key:0,class:"spinner-border spinner-border-sm me-1"},Oe={class:"d-flex align-items-center"},Ve={class:"match-text"},Be={class:"col-lg-7 col-md-12 results-column"},Ue={class:"card tool-card"},Ae={class:"card-header d-flex justify-content-between align-items-center card-header-with-controls"},Ne={class:"encode-selector"},Pe={class:"encode-label"},$e=["data-bs-title"],qe={value:"original"},je={value:"base64"},Fe={value:"base64url"},Re={value:"hex"},ze={value:"base2"},De={class:"card-body"},Je={key:0,class:"empty-results"},We={class:"text-muted mt-1"},Ke={key:1,class:"result-list"},Qe={class:"hash-result-header"},Xe={class:"hash-algorithm"},Ye={key:0,class:"hash-tag"},Ze={class:"hash-value-wrapper"},es=["value"],ss=["onClick"],ts={class:"card tool-card no-footer"},as={class:"card-header"},os={class:"card-body"},rs={class:"notice-box"},ns={class:"card tool-card no-footer mt-3"},ls={class:"card-header"},cs={class:"card-body"},is={class:"notice-box"},ds=["innerHTML"],us=["innerHTML"],ps=["innerHTML"],hs=j({__name:"PasswordHashGeneratorView",setup(gs){const{t}=F(),b=i(""),w=i(!0),y=i(10),v=i(!1),d=i(!1),H=i("original"),u=i([]),G=i(-1),p=i(!1),m=i({bcrypt:!1,scrypt:!1,argon2:!1}),V=L(()=>d.value?"calculating":u.value.length>0&&!p.value?"success":"empty"),B=L(()=>d.value?"bi bi-hourglass-split":u.value.length>0&&!p.value?"bi bi-check-circle-fill":"bi bi-info-circle"),U=L(()=>d.value?t("pages.passwordHashGenerator.status.calculating"):u.value.length>0&&!p.value?t("pages.passwordHashGenerator.status.success"):p.value?t("pages.passwordHashGenerator.status.stale"):t("pages.passwordHashGenerator.status.ready")),T=o=>new Promise((s,n)=>{if(document.querySelector(`script[src="${o}"]`)){s();return}const l=document.createElement("script");l.src=o,l.onload=()=>s(),l.onerror=()=>n(new Error(`Failed to load script: ${o}`)),document.head.appendChild(l)});R(async()=>{try{await Promise.all([T(Y).then(()=>m.value.bcrypt=!0),T(Z).then(()=>m.value.scrypt=!0),T(ee).then(()=>m.value.argon2=!0)])}catch(o){console.error("Failed to load crypto libraries",o)}});const A=()=>{p.value=!0,v.value&&x()},N=()=>{v.value&&p.value&&x()},P=()=>{p.value=!0,v.value&&x()},S=o=>{o.style.height="auto",o.style.height=o.scrollHeight+"px"},C=o=>{if(!o||o.startsWith("Error")||o.startsWith("Library")||H.value==="original")return o;try{const n=new TextEncoder().encode(o);switch(H.value){case"base64":return M(n);case"base64url":return M(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");case"hex":return I(n);case"base2":return Array.from(n).map(l=>l.toString(2).padStart(8,"0")).join(" ");default:return o}}catch{return o}},I=o=>Array.from(o).map(s=>s.toString(16).padStart(2,"0")).join(""),M=o=>{let s="";const n=new Uint8Array(o),l=n.byteLength;for(let c=0;c<l;c++)s+=String.fromCharCode(n[c]);return window.btoa(s)},x=async()=>{!b.value||d.value||(d.value=!0,u.value=[],setTimeout(async()=>{try{const o=[],s=b.value,n=y.value;if(m.value.bcrypt&&window.dcodeIO&&window.dcodeIO.bcrypt)try{const l=window.dcodeIO.bcrypt.genSaltSync(n),c=window.dcodeIO.bcrypt.hashSync(s,l);o.push({name:"Bcrypt",tag:`Cost: ${n}`,value:c})}catch(l){console.error("Bcrypt error",l)}if(m.value.scrypt&&window.scrypt)try{const l=new TextEncoder().encode(s),c=new TextEncoder().encode("salt"),q=await window.scrypt.scrypt(l,c,16384,8,1,64);o.push({name:"Scrypt",tag:"N=16384, r=8, p=1",value:I(q)})}catch(l){console.error("Scrypt error",l)}if(m.value.argon2&&window.argon2)try{const l=await window.argon2.hash({pass:s,salt:"somesalt",type:window.argon2.Argon2id,time:1,mem:1024,hashLen:32});o.push({name:"Argon2id",tag:"m=1024, t=1, p=1",value:l.encoded})}catch(l){console.error("Argon2 error",l)}u.value=o,p.value=!1}catch(o){console.error("Generation error",o)}finally{d.value=!1}},100))},$=async(o,s)=>{try{await navigator.clipboard.writeText(o),G.value=s,setTimeout(()=>{G.value=-1},2e3)}catch(n){console.error("Copy failed",n)}};return z(u,async()=>{await Q(),document.querySelectorAll(".hash-value").forEach(s=>S(s))},{deep:!0}),(o,s)=>(_(),g("main",se,[e("div",te,[e("div",ae,[e("h1",oe,r(a(t)("pages.passwordHashGenerator.title")),1),e("p",re,r(a(t)("pages.passwordHashGenerator.description")),1)]),e("div",ne,[e("nav",le,[e("ol",ce,[e("li",ie,[e("a",de,r(a(t)("breadcrumb.home")),1)]),e("li",ue,[e("a",pe,r(a(t)("breadcrumb.tools")),1)]),e("li",he,r(a(t)("pages.passwordHashGenerator.title_short")),1)])])])]),e("div",ge,[e("div",_e,[e("div",be,[e("div",ve,[s[6]||(s[6]=e("i",{class:"bi bi-sliders"},null,-1)),h(" "+r(a(t)("pages.passwordHashGenerator.settingsLabel")),1)]),e("div",me,[e("label",we,r(a(t)("pages.passwordHashGenerator.sourceLabel")),1),e("div",fe,[k(e("textarea",{class:"source-textarea",type:w.value?"text":"password","onUpdate:modelValue":s[0]||(s[0]=n=>b.value=n),onInput:A,onBlur:N,placeholder:a(t)("pages.passwordHashGenerator.sourcePlaceholder"),rows:"3"},null,40,ye),[[E,b.value]]),e("button",{class:"password-toggle-btn",onClick:s[1]||(s[1]=n=>w.value=!w.value)},[e("i",{class:f(w.value?"bi bi-eye-slash":"bi bi-eye")},null,2),h(" "+r(w.value?a(t)("pages.passwordHashGenerator.hide"):a(t)("pages.passwordHashGenerator.show")),1)])]),e("div",He,[e("div",Ge,[e("div",xe,[h(r(a(t)("pages.passwordHashGenerator.costLabel"))+" ",1),e("i",{class:"bi bi-question-circle-fill text-muted","data-bs-toggle":"tooltip",title:a(t)("pages.passwordHashGenerator.costTooltip")},null,8,ke)]),e("div",Te,[k(e("input",{type:"range",class:"form-range",min:"4",max:"31",step:"1","onUpdate:modelValue":s[2]||(s[2]=n=>y.value=n),onInput:P},null,544),[[E,y.value,void 0,{number:!0}]]),e("span",Le,r(y.value),1)])]),e("div",Se,[e("div",Ce,[k(e("input",{class:"form-check-input ms-0",type:"checkbox",id:"autoGenerate","onUpdate:modelValue":s[3]||(s[3]=n=>v.value=n)},null,512),[[D,v.value]]),e("label",Ie,r(a(t)("pages.passwordHashGenerator.autoGenerate")),1)]),e("button",{class:"btn btn-primary btn-sm",onClick:x,disabled:v.value||!b.value||d.value},[d.value?(_(),g("span",Ee)):O("",!0),h(" "+r(d.value?a(t)("pages.passwordHashGenerator.calculating"):a(t)("pages.passwordHashGenerator.generateBtn")),1)],8,Me)]),e("div",{class:f(["match-result-box",V.value])},[e("div",Oe,[e("i",{class:f(["match-icon",B.value])},null,2),e("p",Ve,r(U.value),1)])],2)])])])]),e("div",Be,[e("div",Ue,[e("div",Ae,[e("div",null,[s[7]||(s[7]=e("i",{class:"bi bi-shield-lock"},null,-1)),h(" "+r(a(t)("pages.passwordHashGenerator.resultLabel")),1)]),e("div",Ne,[e("label",Pe,r(a(t)("pages.passwordHashGenerator.encodingLabel"))+":",1),e("i",{class:"bi bi-question-circle-fill","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":a(t)("pages.passwordHashGenerator.encodingTooltip")},null,8,$e),k(e("select",{class:"form-select form-select-sm encode-select","onUpdate:modelValue":s[4]||(s[4]=n=>H.value=n)},[e("option",qe,r(a(t)("pages.passwordHashGenerator.encodingOptions.original")),1),e("option",je,r(a(t)("pages.passwordHashGenerator.encodingOptions.base64")),1),e("option",Fe,r(a(t)("pages.passwordHashGenerator.encodingOptions.base64url")),1),e("option",Re,r(a(t)("pages.passwordHashGenerator.encodingOptions.hex")),1),e("option",ze,r(a(t)("pages.passwordHashGenerator.encodingOptions.base2")),1)],512),[[J,H.value]])])]),e("div",De,[!b.value&&!u.value.length?(_(),g("div",Je,[s[8]||(s[8]=e("i",{class:"bi bi-shield-check"},null,-1)),e("p",null,r(a(t)("pages.passwordHashGenerator.emptyState")),1),e("p",We,r(a(t)("pages.passwordHashGenerator.emptyStateHint")),1)])):(_(),g("div",Ke,[(_(!0),g(W,null,K(u.value,(n,l)=>(_(),g("div",{class:"hash-result-item",key:l},[e("div",Qe,[e("div",Xe,[h(r(n.name)+" ",1),n.tag?(_(),g("span",Ye,r(n.tag),1)):O("",!0)])]),e("div",Ze,[e("textarea",{class:"hash-value",value:C(n.value),onInput:s[5]||(s[5]=c=>S(c.target)),rows:"1",spellcheck:"false"},null,40,es),e("button",{class:f(["copy-hash-btn",{copied:G.value===l}]),onClick:c=>$(C(n.value),l)},[e("i",{class:f(G.value===l?"bi bi-check-lg":"bi bi-clipboard")},null,2)],10,ss)])]))),128))]))])])])]),e("div",ts,[e("div",as,[s[9]||(s[9]=e("i",{class:"bi bi-info-circle"},null,-1)),h(" "+r(a(t)("pages.passwordHashGenerator.notice.title")),1)]),e("div",os,[e("div",rs,[e("ul",null,[e("li",null,r(a(t)("pages.passwordHashGenerator.notice.item1")),1),e("li",null,r(a(t)("pages.passwordHashGenerator.notice.item2")),1),e("li",null,r(a(t)("pages.passwordHashGenerator.notice.item3")),1),e("li",null,r(a(t)("pages.passwordHashGenerator.notice.item4")),1)])])])]),e("div",ns,[e("div",ls,[s[10]||(s[10]=e("i",{class:"bi bi-info-circle"},null,-1)),h(" "+r(a(t)("pages.passwordHashGenerator.algoInfo.title")),1)]),e("div",cs,[e("div",is,[e("ul",null,[e("li",{innerHTML:a(t)("pages.passwordHashGenerator.algoInfo.bcrypt")},null,8,ds),e("li",{innerHTML:a(t)("pages.passwordHashGenerator.algoInfo.scrypt")},null,8,us),e("li",{innerHTML:a(t)("pages.passwordHashGenerator.algoInfo.argon2")},null,8,ps),e("li",null,r(a(t)("pages.passwordHashGenerator.algoInfo.local")),1)])])])])]))}}),ys=X(hs,[["__scopeId","data-v-5e76a383"]]);export{ys as default};
