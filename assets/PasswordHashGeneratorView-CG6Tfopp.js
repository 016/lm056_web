import{d as j,u as q,r as d,c as x,k as F,l as R,b as h,e,t as r,f as a,h as g,w as T,v as B,n as k,j as E,g as L,p as z,F as D,i as J,o as _,s as W,_ as K}from"./index-C4d0zKoG.js";import{C as Q}from"./CopyButton-C5pSyASS.js";import{T as X}from"./ToggleSwitch-Cjk9m-8X.js";import{b as Y,s as Z,a as ee}from"./argon2-bundled.min-DN9-HiOH.js";const se={class:"main-content flex-grow-1"},te={class:"page-header-row"},ae={class:"page-header-left"},oe={class:"page-title"},re={class:"page-description"},ne={class:"breadcrumb-custom"},le={"aria-label":"breadcrumb"},ie={class:"breadcrumb mb-0"},ce={class:"breadcrumb-item"},de={href:"#"},ue={class:"breadcrumb-item"},pe={href:"#"},he={class:"breadcrumb-item active","aria-current":"page"},ge={class:"row main-tool-row"},_e={class:"col-lg-5 col-md-12 mb-3 mb-lg-0"},be={class:"card tool-card"},ve={class:"card-header"},me={class:"card-body"},we={class:"form-label text-secondary small mb-2"},fe={class:"source-text-wrapper"},ye=["type","placeholder"],He={class:"params-section"},Ge={class:"param-row"},xe={class:"param-label"},Te=["title"],ke={class:"cost-control d-flex align-items-center gap-3",style:{flex:"1","max-width":"200px"}},Le={class:"badge bg-accent rounded-pill",style:{"min-width":"3em"}},Se={class:"generate-controls"},Ie=["disabled"],Ce={key:0,class:"spinner-border spinner-border-sm me-1"},Ve={key:1,class:"bi bi-cpu"},Be={class:"d-flex align-items-center"},Ee={class:"match-text"},Me={class:"col-lg-7 col-md-12 results-column"},Oe={class:"card tool-card"},Ue={class:"card-header d-flex justify-content-between align-items-center card-header-with-controls"},Ae={class:"encode-selector"},Ne={class:"encode-label"},Pe=["data-bs-title"],$e={value:"original"},je={value:"base64"},qe={value:"base64url"},Fe={value:"hex"},Re={value:"base2"},ze={class:"card-body"},De={key:0,class:"empty-results"},Je={class:"text-muted mt-1"},We={key:1,class:"result-list"},Ke={class:"hash-result-header"},Qe={class:"hash-algorithm"},Xe={key:0,class:"hash-tag"},Ye={class:"hash-value-wrapper"},Ze=["value"],es={class:"card tool-card no-footer"},ss={class:"card-header"},ts={class:"card-body"},as={class:"notice-box"},os={class:"card tool-card no-footer mt-3"},rs={class:"card-header"},ns={class:"card-body"},ls={class:"notice-box"},is=["innerHTML"],cs=["innerHTML"],ds=["innerHTML"],us=j({__name:"PasswordHashGeneratorView",setup(ps){const{t:s}=q(),b=d(""),w=d(!0),f=d(10),v=d(!1),i=d(!1),y=d("original"),u=d([]),p=d(!1),m=d({bcrypt:!1,scrypt:!1,argon2:!1}),M=x(()=>i.value?"calculating":u.value.length>0&&!p.value?"success":"empty"),O=x(()=>i.value?"bi bi-hourglass-split":u.value.length>0&&!p.value?"bi bi-check-circle-fill":"bi bi-info-circle"),U=x(()=>i.value?s("pages.passwordHashGenerator.status.calculating"):u.value.length>0&&!p.value?s("pages.passwordHashGenerator.status.success"):p.value?s("pages.passwordHashGenerator.status.stale"):s("pages.passwordHashGenerator.status.ready")),G=o=>new Promise((t,n)=>{if(document.querySelector(`script[src="${o}"]`)){t();return}const l=document.createElement("script");l.src=o,l.onload=()=>t(),l.onerror=()=>n(new Error(`Failed to load script: ${o}`)),document.head.appendChild(l)});F(async()=>{try{await Promise.all([G(Y).then(()=>m.value.bcrypt=!0),G(Z).then(()=>m.value.scrypt=!0),G(ee).then(()=>m.value.argon2=!0)])}catch(o){console.error("Failed to load crypto libraries",o)}});const A=()=>{p.value=!0,v.value&&H()},N=()=>{v.value&&p.value&&H()},P=()=>{p.value=!0,v.value&&H()},S=o=>{o.style.height="auto",o.style.height=o.scrollHeight+"px"},I=o=>{if(!o||o.startsWith("Error")||o.startsWith("Library")||y.value==="original")return o;try{const n=new TextEncoder().encode(o);switch(y.value){case"base64":return V(n);case"base64url":return V(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");case"hex":return C(n);case"base2":return Array.from(n).map(l=>l.toString(2).padStart(8,"0")).join(" ");default:return o}}catch{return o}},C=o=>Array.from(o).map(t=>t.toString(16).padStart(2,"0")).join(""),V=o=>{let t="";const n=new Uint8Array(o),l=n.byteLength;for(let c=0;c<l;c++)t+=String.fromCharCode(n[c]);return window.btoa(t)},H=async()=>{!b.value||i.value||(i.value=!0,u.value=[],setTimeout(async()=>{try{const o=[],t=b.value,n=f.value;if(m.value.bcrypt&&window.dcodeIO&&window.dcodeIO.bcrypt)try{const l=window.dcodeIO.bcrypt.genSaltSync(n),c=window.dcodeIO.bcrypt.hashSync(t,l);o.push({name:"Bcrypt",tag:`Cost: ${n}`,value:c})}catch(l){console.error("Bcrypt error",l)}if(m.value.scrypt&&window.scrypt)try{const l=new TextEncoder().encode(t),c=new TextEncoder().encode("salt"),$=await window.scrypt.scrypt(l,c,16384,8,1,64);o.push({name:"Scrypt",tag:"N=16384, r=8, p=1",value:C($)})}catch(l){console.error("Scrypt error",l)}if(m.value.argon2&&window.argon2)try{const l=await window.argon2.hash({pass:t,salt:"somesalt",type:window.argon2.Argon2id,time:1,mem:1024,hashLen:32});o.push({name:"Argon2id",tag:"m=1024, t=1, p=1",value:l.encoded})}catch(l){console.error("Argon2 error",l)}u.value=o,p.value=!1}catch(o){console.error("Generation error",o)}finally{i.value=!1}},100))};return R(u,async()=>{await W(),document.querySelectorAll(".hash-value").forEach(t=>S(t))},{deep:!0}),(o,t)=>(_(),h("main",se,[e("div",te,[e("div",ae,[e("h1",oe,r(a(s)("pages.passwordHashGenerator.title")),1),e("p",re,r(a(s)("pages.passwordHashGenerator.description")),1)]),e("div",ne,[e("nav",le,[e("ol",ie,[e("li",ce,[e("a",de,r(a(s)("breadcrumb.home")),1)]),e("li",ue,[e("a",pe,r(a(s)("breadcrumb.tools")),1)]),e("li",he,r(a(s)("pages.passwordHashGenerator.title_short")),1)])])])]),e("div",ge,[e("div",_e,[e("div",be,[e("div",ve,[t[6]||(t[6]=e("i",{class:"bi bi-sliders"},null,-1)),g(" "+r(a(s)("pages.passwordHashGenerator.settingsLabel")),1)]),e("div",me,[e("label",we,r(a(s)("pages.passwordHashGenerator.sourceLabel")),1),e("div",fe,[T(e("textarea",{class:"source-textarea",type:w.value?"text":"password","onUpdate:modelValue":t[0]||(t[0]=n=>b.value=n),onInput:A,onBlur:N,placeholder:a(s)("pages.passwordHashGenerator.sourcePlaceholder"),rows:"3"},null,40,ye),[[B,b.value]]),e("button",{class:"password-toggle-btn",onClick:t[1]||(t[1]=n=>w.value=!w.value)},[e("i",{class:k(w.value?"bi bi-eye-slash":"bi bi-eye")},null,2),g(" "+r(w.value?a(s)("pages.passwordHashGenerator.hide"):a(s)("pages.passwordHashGenerator.show")),1)])]),e("div",He,[e("div",Ge,[e("div",xe,[g(r(a(s)("pages.passwordHashGenerator.costLabel"))+" ",1),e("i",{class:"bi bi-question-circle-fill text-muted","data-bs-toggle":"tooltip",title:a(s)("pages.passwordHashGenerator.costTooltip")},null,8,Te)]),e("div",ke,[T(e("input",{type:"range",class:"form-range",min:"4",max:"31",step:"1","onUpdate:modelValue":t[2]||(t[2]=n=>f.value=n),onInput:P},null,544),[[B,f.value,void 0,{number:!0}]]),e("span",Le,r(f.value),1)])]),e("div",Se,[E(X,{modelValue:v.value,"onUpdate:modelValue":t[3]||(t[3]=n=>v.value=n),label:a(s)("pages.passwordHashGenerator.autoGenerate"),id:"autoGenerate",variant:"bootstrap"},null,8,["modelValue","label"]),e("button",{class:"btn btn-ee-base active",onClick:H,disabled:v.value||!b.value||i.value},[i.value?(_(),h("span",Ce)):L("",!0),i.value?L("",!0):(_(),h("i",Ve)),g(" "+r(i.value?a(s)("pages.passwordHashGenerator.calculating"):a(s)("pages.passwordHashGenerator.generateBtn")),1)],8,Ie)]),e("div",{class:k(["match-result-box",M.value])},[e("div",Be,[e("i",{class:k(["match-icon",O.value])},null,2),e("p",Ee,r(U.value),1)])],2)])])])]),e("div",Me,[e("div",Oe,[e("div",Ue,[e("div",null,[t[7]||(t[7]=e("i",{class:"bi bi-shield-lock"},null,-1)),g(" "+r(a(s)("pages.passwordHashGenerator.resultLabel")),1)]),e("div",Ae,[e("label",Ne,r(a(s)("pages.passwordHashGenerator.encodingLabel"))+":",1),e("i",{class:"bi bi-question-circle-fill","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-title":a(s)("pages.passwordHashGenerator.encodingTooltip")},null,8,Pe),T(e("select",{class:"form-select form-select-sm encode-select","onUpdate:modelValue":t[4]||(t[4]=n=>y.value=n)},[e("option",$e,r(a(s)("pages.passwordHashGenerator.encodingOptions.original")),1),e("option",je,r(a(s)("pages.passwordHashGenerator.encodingOptions.base64")),1),e("option",qe,r(a(s)("pages.passwordHashGenerator.encodingOptions.base64url")),1),e("option",Fe,r(a(s)("pages.passwordHashGenerator.encodingOptions.hex")),1),e("option",Re,r(a(s)("pages.passwordHashGenerator.encodingOptions.base2")),1)],512),[[z,y.value]])])]),e("div",ze,[!b.value&&!u.value.length?(_(),h("div",De,[t[8]||(t[8]=e("i",{class:"bi bi-shield-check"},null,-1)),e("p",null,r(a(s)("pages.passwordHashGenerator.emptyState")),1),e("p",Je,r(a(s)("pages.passwordHashGenerator.emptyStateHint")),1)])):(_(),h("div",We,[(_(!0),h(D,null,J(u.value,(n,l)=>(_(),h("div",{class:"hash-result-item",key:l},[e("div",Ke,[e("div",Qe,[g(r(n.name)+" ",1),n.tag?(_(),h("span",Xe,r(n.tag),1)):L("",!0)])]),e("div",Ye,[e("textarea",{class:"hash-value",value:I(n.value),onInput:t[5]||(t[5]=c=>S(c.target)),rows:"1",spellcheck:"false"},null,40,Ze),E(Q,{text:I(n.value)},null,8,["text"])])]))),128))]))])])])]),e("div",es,[e("div",ss,[t[9]||(t[9]=e("i",{class:"bi bi-info-circle"},null,-1)),g(" "+r(a(s)("pages.passwordHashGenerator.notice.title")),1)]),e("div",ts,[e("div",as,[e("ul",null,[e("li",null,r(a(s)("pages.passwordHashGenerator.notice.item1")),1),e("li",null,r(a(s)("pages.passwordHashGenerator.notice.item2")),1),e("li",null,r(a(s)("pages.passwordHashGenerator.notice.item3")),1),e("li",null,r(a(s)("pages.passwordHashGenerator.notice.item4")),1)])])])]),e("div",os,[e("div",rs,[t[10]||(t[10]=e("i",{class:"bi bi-info-circle"},null,-1)),g(" "+r(a(s)("pages.passwordHashGenerator.algoInfo.title")),1)]),e("div",ns,[e("div",ls,[e("ul",null,[e("li",{innerHTML:a(s)("pages.passwordHashGenerator.algoInfo.bcrypt")},null,8,is),e("li",{innerHTML:a(s)("pages.passwordHashGenerator.algoInfo.scrypt")},null,8,cs),e("li",{innerHTML:a(s)("pages.passwordHashGenerator.algoInfo.argon2")},null,8,ds),e("li",null,r(a(s)("pages.passwordHashGenerator.algoInfo.local")),1)])])])])]))}}),ys=K(us,[["__scopeId","data-v-429b7d48"]]);export{ys as default};
