import{d as te,u as le,r as g,c as k,l as ae,k as oe,b as d,e,t as a,f as o,h as v,w as C,v as U,F as R,i as j,g as N,j as ne,n as $,p as re,o as u,_ as ie}from"./index-BDVR_Oui.js";const de={class:"main-content flex-grow-1"},ue={class:"page-header-row"},ce={class:"page-header-left"},pe={class:"page-title"},ve={class:"page-description"},ge={class:"breadcrumb-custom"},be={"aria-label":"breadcrumb"},xe={class:"breadcrumb mb-0"},me={class:"breadcrumb-item"},he={href:"#"},_e={class:"breadcrumb-item"},fe={href:"#"},ye={class:"breadcrumb-item active","aria-current":"page"},Te={class:"row"},we={class:"col-lg-5 col-md-12 mb-3"},ke={class:"card tool-card"},Ce={class:"card-header"},Ve={class:"card-body p-0"},Pe=["placeholder"],Me={class:"col-lg-7 col-md-12 mb-3"},Re={class:"card tool-card"},je={class:"card-header"},Se={class:"card-body"},Ue={class:"config-label"},Ne=["placeholder"],$e={class:"config-label border-top pt-3"},De={class:"field-rules"},Oe=["onUpdate:modelValue","placeholder"],Ee=["onUpdate:modelValue","placeholder"],Fe=["onClick"],Je={class:"field-actions border-bottom pb-3"},ze=["disabled"],Be={class:"match-controls"},Ie={class:"realtime-toggle"},Le={class:"realtime-label"},Ae={class:"switch"},Ge={key:0,class:"realtime-note"},He={class:"card tool-card"},qe={key:0,class:"results-card-header"},Ke={class:"results-header-left"},Qe={class:"results-stats"},We={class:"stat-badge status-badge"},Xe={class:"stat-badge-label"},Ye={class:"stat-badge time-badge"},Ze={class:"stat-badge-label"},es={class:"stat-badge-value"},ss={class:"stat-badge count-badge"},ts={class:"stat-badge-label"},ls={class:"stat-badge-value"},as={key:1,class:"card-header"},os={class:"card-body p-2"},ns={key:0},rs={class:"results-table-container"},is={class:"results-table"},ds={class:"pagination-container"},us={class:"pagination-buttons"},cs=["disabled"],ps=["onClick"],vs=["disabled"],gs={class:"d-flex align-items-center gap-2"},bs={value:10},xs={value:20},ms={value:50},hs={value:100},_s={class:"pagination-info"},fs={key:1,class:"empty-state"},ys={class:"text-muted"},Ts={class:"card tool-card no-footer"},ws={class:"card-header"},ks={class:"card-body"},Cs={class:"export-section"},Vs={class:"export-group"},Ps=["disabled"],Ms=["disabled"],Rs=["disabled"],js={class:"export-group"},Ss=["disabled"],Us=["disabled"],Ns=["disabled"],$s={key:0,class:"preview-container"},Ds={class:"preview-header"},Os={class:"preview-title"},Es=["value"],Fs={class:"card tool-card no-footer"},Js={class:"card-header"},zs={class:"card-body"},Bs={class:"notice-box"},Is=te({__name:"RegexTesterView",setup(Ls){const{t}=le(),m=g(""),V=g(""),b=g([{name:"name",regex:"(\\S+)"},{name:"age",regex:"(\\d+)"}]),w=g([]),y=g(!0),S=g(!1),c=g([]),D=g(0),h=g(0),p=g(1),_=g(10),x=g(null),J=k(()=>h.value===0?{text:t("pages.regexTester.status.noMatch"),class:"warning"}:{text:t("pages.regexTester.status.complete"),class:"success"}),A=k(()=>w.value.length>0),O=k(()=>Math.ceil(h.value/_.value)),G=k(()=>{const n=(p.value-1)*_.value,s=n+_.value;return c.value.slice(n,s)}),H=k(()=>{const n=[];let l=Math.max(1,p.value-Math.floor(2.5)),r=Math.min(O.value,l+5-1);r-l<4&&(l=Math.max(1,r-5+1));for(let i=l;i<=r;i++)n.push(i);return n}),q=k(()=>x.value==="json"?JSON.stringify(c.value,null,2):x.value==="csv"?E():"");ae(y,n=>{n&&m.value&&M()});const z=()=>{w.value.push({fieldRules:JSON.parse(JSON.stringify(b.value))}),w.value.length>10&&w.value.shift()},K=()=>{z(),b.value.push({name:"",regex:""})},Q=n=>{b.value.length>1?(z(),b.value.splice(n,1),P()):alert(t("pages.regexTester.alerts.minOneField"))},W=()=>{if(w.value.length>0){const n=w.value.pop();n&&(b.value=n.fieldRules,P())}},X=()=>{y.value&&M()},P=()=>{y.value&&m.value&&M()},M=()=>{const n=performance.now();try{if(c.value=[],!m.value.trim()){S.value=!0,h.value=0,D.value=Math.round(performance.now()-n);return}let s=[];if(V.value.trim())try{const l=new RegExp(V.value,"g");s=[...m.value.matchAll(l)].map(i=>i[0])}catch(l){console.error("Group regex error:",l),s=m.value.split(`
`).filter(r=>r.trim())}else s=m.value.split(`
`).filter(l=>l.trim());s.forEach(l=>{const r={};let i=!1;b.value.forEach(f=>{if(f.name&&f.regex)try{const T=new RegExp(f.regex),F=l.match(T);F&&F[1]!==void 0&&(r[f.name]=F[1],i=!0)}catch(T){console.error(`Field ${f.name} regex error:`,T)}}),i&&c.value.push(r)}),h.value=c.value.length,S.value=!0,p.value=1}catch(s){console.error("Analysis error:",s),alert(t("pages.regexTester.alerts.analysisError")),h.value=0}D.value=Math.round(performance.now()-n)},Y=()=>{p.value>1&&p.value--},Z=()=>{p.value<O.value&&p.value++},ee=n=>{p.value=n},B=n=>{x.value===n?x.value=null:x.value=n},se=()=>{x.value=null},E=()=>{if(c.value.length===0)return"";const n=b.value.map(l=>l.name).join(","),s=c.value.map(l=>b.value.map(r=>{const i=l[r.name]||"";return i.includes(",")||i.includes('"')||i.includes(`
`)?'"'+i.replace(/"/g,'""')+'"':i}).join(","));return n+`
`+s.join(`
`)},I=async n=>{let s="";n==="json"?s=JSON.stringify(c.value,null,2):n==="csv"&&(s=E());try{await navigator.clipboard.writeText(s),alert(t("pages.regexTester.alerts.copied"))}catch{const r=document.createElement("textarea");r.value=s,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.select();try{document.execCommand("copy"),alert(t("pages.regexTester.alerts.copied"))}catch{alert(t("pages.regexTester.alerts.copyFailed"))}document.body.removeChild(r)}},L=n=>{let s="",l="",r="";n==="json"?(s=JSON.stringify(c.value,null,2),l="regex_results.json",r="application/json"):n==="csv"&&(s=E(),l="regex_results.csv",r="text/csv;charset=utf-8;");const i=new Blob([s],{type:r}),f=URL.createObjectURL(i),T=document.createElement("a");T.href=f,T.download=l,T.click(),URL.revokeObjectURL(f)};return oe(()=>{m.value=`user:Alice age:30
user:Bob age:25
user:Charlie age:35`,V.value="user:(.*?)\\s+age:(.*?)(?=\\n|$)",y.value&&M()}),(n,s)=>(u(),d("main",de,[e("div",ue,[e("div",ce,[e("h1",pe,a(o(t)("pages.regexTester.title")),1),e("p",ve,a(o(t)("pages.regexTester.description")),1)]),e("div",ge,[e("nav",be,[e("ol",xe,[e("li",me,[e("a",he,a(o(t)("breadcrumb.home")),1)]),e("li",_e,[e("a",fe,a(o(t)("breadcrumb.tools")),1)]),e("li",ye,a(o(t)("pages.regexTester.title_short")),1)])])])]),e("div",Te,[e("div",we,[e("div",ke,[e("div",Ce,[s[11]||(s[11]=e("i",{class:"bi bi-file-text"},null,-1)),v(" "+a(o(t)("pages.regexTester.rawData")),1)]),e("div",Ve,[C(e("textarea",{class:"form-control input-textarea","onUpdate:modelValue":s[0]||(s[0]=l=>m.value=l),onInput:X,placeholder:o(t)("pages.regexTester.rawDataPlaceholder")},null,40,Pe),[[U,m.value]])])])]),e("div",Me,[e("div",Re,[e("div",je,[s[12]||(s[12]=e("i",{class:"bi bi-regex"},null,-1)),v(" "+a(o(t)("pages.regexTester.regexConfig")),1)]),e("div",Se,[e("label",Ue,a(o(t)("pages.regexTester.groupRegex")),1),C(e("input",{type:"text",class:"form-control group-regex-input mb-3","onUpdate:modelValue":s[1]||(s[1]=l=>V.value=l),onInput:P,placeholder:o(t)("pages.regexTester.groupRegexPlaceholder")},null,40,Ne),[[U,V.value]]),e("label",$e,a(o(t)("pages.regexTester.fieldRules")),1),e("div",De,[(u(!0),d(R,null,j(b.value,(l,r)=>(u(),d("div",{class:"field-rule-item",key:r},[C(e("input",{type:"text",class:"form-control field-name-input","onUpdate:modelValue":i=>l.name=i,onInput:P,placeholder:o(t)("pages.regexTester.fieldNamePlaceholder")},null,40,Oe),[[U,l.name]]),C(e("input",{type:"text",class:"form-control field-regex-input","onUpdate:modelValue":i=>l.regex=i,onInput:P,placeholder:o(t)("pages.regexTester.fieldRegexPlaceholder")},null,40,Ee),[[U,l.regex]]),e("button",{class:"remove-field-btn",onClick:i=>Q(r)},[...s[13]||(s[13]=[e("i",{class:"bi bi-dash"},null,-1)])],8,Fe)]))),128))]),e("div",Je,[e("button",{class:"add-field-btn",onClick:K},[s[14]||(s[14]=e("i",{class:"bi bi-plus"},null,-1)),v(" "+a(o(t)("pages.regexTester.addField")),1)]),e("button",{class:"undo-btn",onClick:W,disabled:!A.value},[s[15]||(s[15]=e("i",{class:"bi bi-arrow-counterclockwise"},null,-1)),v(" "+a(o(t)("pages.regexTester.undo")),1)],8,ze)]),e("div",Be,[e("div",null,[e("div",Ie,[e("span",Le,a(o(t)("pages.regexTester.realtimeMatch")),1),e("label",Ae,[C(e("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=l=>y.value=l)},null,512),[[ne,y.value]]),s[16]||(s[16]=e("span",{class:"slider-switch"},null,-1))])]),y.value?N("",!0):(u(),d("div",Ge,a(o(t)("pages.regexTester.realtimeNote")),1))]),e("button",{class:"analyze-btn",onClick:M},[s[17]||(s[17]=e("i",{class:"bi bi-play-fill"},null,-1)),v(" "+a(o(t)("pages.regexTester.analyzeBtn")),1)])])])])])]),e("div",He,[S.value?(u(),d("div",qe,[e("div",Ke,[s[18]||(s[18]=e("i",{class:"bi bi-table"},null,-1)),e("span",null,a(o(t)("pages.regexTester.results.title")),1)]),e("div",Qe,[e("div",We,[s[19]||(s[19]=e("i",{class:"bi bi-check-circle-fill"},null,-1)),e("span",Xe,a(o(t)("pages.regexTester.results.status"))+":",1),e("span",{class:$(["stat-badge-value",J.value.class])},a(J.value.text),3)]),e("div",Ye,[s[20]||(s[20]=e("i",{class:"bi bi-stopwatch"},null,-1)),e("span",Ze,a(o(t)("pages.regexTester.results.duration"))+":",1),e("span",es,a(D.value)+"ms",1)]),e("div",ss,[s[21]||(s[21]=e("i",{class:"bi bi-bar-chart-fill"},null,-1)),e("span",ts,a(o(t)("pages.regexTester.results.matches"))+":",1),e("span",ls,a(h.value),1)])])])):N("",!0),S.value?N("",!0):(u(),d("div",as,[s[22]||(s[22]=e("i",{class:"bi bi-table"},null,-1)),v(" "+a(o(t)("pages.regexTester.results.title")),1)])),e("div",os,[c.value.length>0?(u(),d("div",ns,[e("div",rs,[e("table",is,[e("thead",null,[e("tr",null,[e("th",null,a(o(t)("pages.regexTester.results.index")),1),(u(!0),d(R,null,j(b.value,l=>(u(),d("th",{key:l.name},a(l.name),1))),128))])]),e("tbody",null,[(u(!0),d(R,null,j(G.value,(l,r)=>(u(),d("tr",{key:r},[e("td",null,a((p.value-1)*_.value+r+1),1),(u(!0),d(R,null,j(b.value,i=>(u(),d("td",{key:i.name},a(l[i.name]||"-"),1))),128))]))),128))])])]),e("div",ds,[e("div",us,[e("button",{class:"page-btn",onClick:Y,disabled:p.value===1},[...s[23]||(s[23]=[e("i",{class:"bi bi-chevron-left"},null,-1)])],8,cs),(u(!0),d(R,null,j(H.value,l=>(u(),d("button",{class:$(["page-btn",{active:l===p.value}]),key:l,onClick:r=>ee(l)},a(l),11,ps))),128)),e("button",{class:"page-btn",onClick:Z,disabled:p.value===O.value},[...s[24]||(s[24]=[e("i",{class:"bi bi-chevron-right"},null,-1)])],8,vs)]),e("div",gs,[C(e("select",{class:"form-select form-select-sm","onUpdate:modelValue":s[3]||(s[3]=l=>_.value=l),onChange:s[4]||(s[4]=l=>p.value=1),style:{width:"auto"}},[e("option",bs,"10 "+a(o(t)("pages.regexTester.pagination.perPage")),1),e("option",xs,"20 "+a(o(t)("pages.regexTester.pagination.perPage")),1),e("option",ms,"50 "+a(o(t)("pages.regexTester.pagination.perPage")),1),e("option",hs,"100 "+a(o(t)("pages.regexTester.pagination.perPage")),1)],544),[[re,_.value]]),e("div",_s,a(o(t)("pages.regexTester.results.showing",{start:(p.value-1)*_.value+1,end:Math.min(p.value*_.value,h.value),total:h.value})),1)])])])):(u(),d("div",fs,[s[25]||(s[25]=e("i",{class:"bi bi-inbox"},null,-1)),e("p",null,a(o(t)("pages.regexTester.results.empty")),1),e("p",ys,a(o(t)("pages.regexTester.results.emptyHint")),1)]))])]),e("div",Ts,[e("div",ws,[s[26]||(s[26]=e("i",{class:"bi bi-download"},null,-1)),v(" "+a(o(t)("pages.regexTester.export.title")),1)]),e("div",ks,[e("div",Cs,[e("div",Vs,[s[30]||(s[30]=e("span",{class:"export-label"},"JSON:",-1)),e("button",{class:$(["export-btn",{active:x.value==="json"}]),onClick:s[5]||(s[5]=l=>B("json")),disabled:c.value.length===0},[s[27]||(s[27]=e("i",{class:"bi bi-eye"},null,-1)),v(" "+a(o(t)("pages.regexTester.export.view")),1)],10,Ps),e("button",{class:"export-btn",onClick:s[6]||(s[6]=l=>I("json")),disabled:c.value.length===0},[s[28]||(s[28]=e("i",{class:"bi bi-clipboard"},null,-1)),v(" "+a(o(t)("pages.regexTester.export.copy")),1)],8,Ms),e("button",{class:"export-btn",onClick:s[7]||(s[7]=l=>L("json")),disabled:c.value.length===0},[s[29]||(s[29]=e("i",{class:"bi bi-download"},null,-1)),v(" "+a(o(t)("pages.regexTester.export.downloadJson")),1)],8,Rs)]),e("div",js,[s[34]||(s[34]=e("span",{class:"export-label"},"CSV:",-1)),e("button",{class:$(["export-btn",{active:x.value==="csv"}]),onClick:s[8]||(s[8]=l=>B("csv")),disabled:c.value.length===0},[s[31]||(s[31]=e("i",{class:"bi bi-eye"},null,-1)),v(" "+a(o(t)("pages.regexTester.export.view")),1)],10,Ss),e("button",{class:"export-btn",onClick:s[9]||(s[9]=l=>I("csv")),disabled:c.value.length===0},[s[32]||(s[32]=e("i",{class:"bi bi-clipboard"},null,-1)),v(" "+a(o(t)("pages.regexTester.export.copy")),1)],8,Us),e("button",{class:"export-btn",onClick:s[10]||(s[10]=l=>L("csv")),disabled:c.value.length===0},[s[33]||(s[33]=e("i",{class:"bi bi-download"},null,-1)),v(" "+a(o(t)("pages.regexTester.export.downloadCsv")),1)],8,Ns)])]),x.value?(u(),d("div",$s,[e("div",Ds,[e("span",Os,a(o(t)("pages.regexTester.export.preview",{format:x.value.toUpperCase()})),1),e("button",{class:"close-preview-btn",onClick:se},[s[35]||(s[35]=e("i",{class:"bi bi-x"},null,-1)),v(" "+a(o(t)("pages.regexTester.export.closePreview")),1)])]),e("textarea",{class:"form-control preview-textarea",value:q.value,readonly:""},null,8,Es)])):N("",!0)])]),e("div",Fs,[e("div",Js,[s[36]||(s[36]=e("i",{class:"bi bi-info-circle"},null,-1)),v(" "+a(o(t)("pages.regexTester.notice.title")),1)]),e("div",zs,[e("div",Bs,[e("ul",null,[e("li",null,a(o(t)("pages.regexTester.notice.item1")),1),e("li",null,a(o(t)("pages.regexTester.notice.item2")),1),e("li",null,a(o(t)("pages.regexTester.notice.item3")),1),e("li",null,a(o(t)("pages.regexTester.notice.item4")),1)])])])])]))}}),Gs=ie(Is,[["__scopeId","data-v-0ebdd71c"]]);export{Gs as default};
